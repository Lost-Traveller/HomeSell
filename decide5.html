<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Decide - MyHomeSellApp</title>
  <!-- FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet"/>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin:0; }
    .container { max-width: 1200px; margin: auto; background: #fff; min-height: 100vh; display: flex; flex-direction: column; }
    header { height: 1.5rem; }
    .top-bar {
      display: flex; align-items: center; justify-content: space-between;
      background: #222; padding: 0.5rem 1rem;
    }
    .logo { font-size: 1.1rem; font-weight: bold; color: #fff; }
    nav.primary-nav {
      display: flex; flex: 1; justify-content: flex-start; margin-left: 1rem;
    }
    nav.primary-nav a {
      color: #fff; padding: 0.7rem 1.2rem; text-decoration: none; font-size: 1rem;
    }
    nav.primary-nav a.active { background: #555; }
    .login-btn {
      padding: 0.45rem 1.1rem; background: #0077cc; color: #fff; border-radius: 4px; text-decoration: none; font-weight: 500; font-size: 1rem; margin-left: 1rem;
    }

    /* Subnav - custom layout */
    .sub-nav-row {
      display: flex;
      align-items: center;
      background: #eee;
      padding: 0.5rem 1rem;
      gap: 2rem;
      justify-content: flex-start;
    }
    .subnav-links {
      display: flex;
      gap: 0.3rem;
    }
    .subnav-links a {
      padding: .7rem 1.1rem;
      color: #333;
      text-decoration: none;
      border-radius: 3px;
      transition: background .15s;
    }
    .subnav-links a.active { font-weight: bold; border-bottom: 2px solid #0077cc; }
    .subnav-links a:hover { background: #e0e0e0; }
    .ai-subnav-search {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 0.45rem;
      min-width: 570px; /* was 370px; now approx 2inches more (192px ~ 2in) */
      max-width: 650px;
      justify-content: flex-end;
    }
    .ai-subnav-search label {
      font-size: 1rem;
      font-weight: bold;
      color: #444;
      margin-right: 0.3rem;
      white-space: nowrap;
    }
    .ai-subnav-search input[type="text"] {
      width: 420px; /* was 230px, now much longer */
      max-width: 500px;
      padding: 0.5rem 0.8rem;
      border: 1px solid #bbb;
      border-radius: 4px;
      font-size: 1rem;
      background: #fff;
    }
    .content {
      display: flex; gap: 1rem; padding: 1rem; flex:1;
    }
    aside {
      flex: 1; display: flex; flex-direction: column; gap: 1rem;
    }
    main {
      flex: 3; background: #ededed; border: 1px solid #ddd; border-radius: 4px; padding: 1.5rem;
      min-width: 0;
    }
    /* To Do Sidebar */
    .todo-section {
      background: #fafafa;
      padding: 1rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      min-height: 200px;
    }
    .todo-section h2 {
      margin-top: 0;
      font-size: 1.35rem;
      margin-bottom: 0.7rem;
      letter-spacing: 1px;
      color: #0077cc;
    }
    .todo-list {
      list-style: none;
      padding-left: 0;
      margin: 0 0 1rem 0;
    }
    .todo-list li {
      display: flex;
      align-items: center;
      margin-bottom: 0.4rem;
    }
    .todo-list input[type="checkbox"] {
      margin-right: 0.5rem;
      cursor: pointer;
    }
    .todo-add {
      display: flex;
      gap: 0.5rem;
    }
    .todo-add input[type="text"] {
      flex: 1;
      padding: 0.4rem;
      border: 1px solid #ccc;
      border-radius: 3px;
      font-size: 1rem;
    }
    .todo-add button {
      padding: 0.4rem 0.75rem;
      background: #0077cc;
      color: #fff;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      font-size: 1rem;
    }
    /* Calendar styling */
    #calendar {
      max-width: 100%;
      margin: 0;
      background: #fff;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    }
    @media (max-width: 900px) {
      .content { flex-direction: column; }
      aside, main { width: 100%; }
      .sub-nav-row { flex-direction: column; gap: 0.5rem; align-items: flex-start;}
      .ai-subnav-search { margin-left: 0; min-width: unset; width: 100%; }
      .ai-subnav-search input[type="text"] { width: 100%; max-width: 100%; }
    }
    footer {
      background: #222; color: #ccc; text-align: center; font-size: .9rem; padding: 1rem; margin-top: auto;
    }
    footer a { color: #ccc; margin: 0 .5rem; }
  </style>
</head>
<body>
  <div class="container">
    <div class="top-bar">
      <span class="logo">MyHomeSellApp</span>
      <nav class="primary-nav">
        <a href="decide.html" class="active">Decide</a>
        <a href="prepare1.html">Prepare</a>
        <a href="market1.html">Market</a>
        <a href="list1.html">List</a>
        <a href="openhome1.html">OpenHome</a>
        <a href="negotiate1.html">Negotiate</a>
        <a href="sell1.html">Sell</a>
        <a href="move1.html">Move</a>
      </nav>
      <a href="login.html" class="login-btn">Login</a>
    </div>

    <!-- SUB NAV with left-aligned links under logo and right-aligned AI Search -->
    <div class="sub-nav-row">
      <div class="subnav-links">
        <a href="decide1.html" class="active">Decide1</a>
        <a href="decide2.html">Decide2</a>
        <a href="decide3.html">Decide3</a>
        <a href="decide4.html">Decide4</a>
        <a href="decide5.html">Decide5</a>
      </div>
      <div class="ai-subnav-search">
        <label for="ai-search">AI Search</label>
        <input type="text" id="ai-search" placeholder="Type a question…"/>
      </div>
    </div>

    <div class="content">
      <!-- LEFT SIDEBAR: To Do List -->
      <aside>
        <section class="todo-section">
          <h2>DECIDE - To Do</h2>
          <ul class="todo-list" id="todo-list">
            <!-- To-do items will appear here -->
          </ul>
          <form class="todo-add" id="todo-form" autocomplete="off">
            <input type="text" id="todo-input" placeholder="Add a to-do…" />
            <button type="submit">Add</button>
          </form>
        </section>
      </aside>
      <!-- MAIN PANEL: Calendar -->
      <main>
        <div id="calendar"></div>
      </main>
    </div>

    <footer>
      <a href="profile.html">Profile</a>|
      <a href="pricing.html">Pricing</a>|
      <a href="terms.html">Terms</a>|
      <a href="privacy.html">Privacy</a>
      <p>© 2024 MyHomeSellApp</p>
    </footer>
  </div>
  <!-- FullCalendar JS -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        height: 'auto',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,dayGridWeek'
        },
        events: [
          { title: 'Photographer Booking', start: '2024-05-10' },
          { title: 'Listing Goes Live!', start: '2024-05-15' },
          { title: 'Open House 1', start: '2024-05-17' },
          { title: 'Social Media Post', start: '2024-05-16' },
          { title: 'Follow-up Call', start: '2024-05-18' }
        ]
      });
      calendar.render();
    });

    // To Do List Javascript
    const todoForm = document.getElementById('todo-form');
    const todoInput = document.getElementById('todo-input');
    const todoList = document.getElementById('todo-list');
    function loadTodos() {
      const todos = JSON.parse(localStorage.getItem('decide_todos') || '[]');
      todoList.innerHTML = '';
      todos.forEach((todo, idx) => {
        const li = document.createElement('li');
        li.innerHTML = `
          <input type="checkbox" ${todo.done ? 'checked' : ''} data-idx="${idx}">
          <span style="text-decoration:${todo.done ? 'line-through' : 'none'}">${todo.text}</span>
          <button data-idx="${idx}" style="margin-left:auto;background:none;border:none;color:#999;cursor:pointer;" title="Remove">×</button>
        `;
        todoList.appendChild(li);
      });
    }
    function saveTodos(todos) {
      localStorage.setItem('decide_todos', JSON.stringify(todos));
    }
    if(todoForm) {
      todoForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const text = todoInput.value.trim();
        if (!text) return;
        const todos = JSON.parse(localStorage.getItem('decide_todos') || '[]');
        todos.push({ text, done: false });
        saveTodos(todos);
        todoInput.value = '';
        loadTodos();
      });
    }
    if(todoList) {
      todoList.addEventListener('click', function(e) {
        const idx = e.target.getAttribute('data-idx');
        if (e.target.type === 'checkbox') {
          const todos = JSON.parse(localStorage.getItem('decide_todos') || '[]');
          todos[idx].done = e.target.checked;
          saveTodos(todos);
          loadTodos();
        } else if (e.target.tagName === 'BUTTON') {
          const todos = JSON.parse(localStorage.getItem('decide_todos') || '[]');
          todos.splice(idx, 1);
          saveTodos(todos);
          loadTodos();
        }
      });
    }
    loadTodos();
  </script>
</body>
</html>
